---
import Socials from "@components/Socials.astro";
import Buttons from "@components/ui/Buttons.astro";
import Waves from "@components/ui/shapes/Waves.astro";

const { ariaLabel } = Astro.props;
---

<section id="particles-js" role="region" class="hero" aria-label={ariaLabel}>
	<div class="hero-img">
		<img loading="lazy" src="/images/hero.jpg" alt="Enfant s'amusant sous l'eau avec les pouces en l'air" />
	</div>
	<div class="hero-content">
		<h1 class="hero-title">Apprendre à nager en s'amusant <br /><span>avec Maître-Baigneur</span></h1>
		<div class="hero-cta">
			<Buttons href="/contact" class="btn btn__outline--inverted" text="Contactez-nous">Contactez-nous</Buttons>
			<Buttons href="/contact" class="hero-button btn btn__outline" outline text="Je réserve mon cours">Je réserve mon cours</Buttons>
		</div>
	</div>
	<div class="socials__wrapper">
		<Socials iconVersion="light" />
	</div>
	<Waves />
</section>

<style lang="scss">
	.hero {
		position: relative;
		height: 100vh;
		min-height: 550px;

		&-img {
			position: fixed;
			top: 0;
			bottom: 0;
			left: 0;
			right: 0;

			display: flex;
			align-items: center;
			justify-content: center;

			&::before {
				content: "";
				position: absolute;
				top: 0;
				bottom: 0;
				left: 0;
				right: 0;
				background: hsla(var(--link-color-black-hsl), 0.5);
			}

			img {
				object-fit: cover;
				height: 100%;
				width: 100%;
			}
		}
	}
	.hero-content {
		position: absolute;
		top: 50%;
		left: 50%;
		transform: translate(-50%, -50%);
		width: calc(100% - 2rem);
		text-align: center;
		color: var(--color-white);
		display: flex;
		flex-direction: column;
		justify-content: center;
		align-items: center;
	}
	.hero-title {
		color: #fff;
		font-size: var(--fs-xlarge);
		line-height: 1.2;

		span {
			display: block;
			font-weight: 100;
			font-size: clamp(2rem, 3vw + 1rem, 3rem);
			margin-top: 0.5rem;
		}
	}
	.hero-cta {
		display: flex;
		align-items: center;
		gap: 1rem;

		@media screen and (max-width: 576px) {
			flex-direction: column-reverse;
			gap: 1rem;
		}
		a {
			min-width: max-content;

			@media screen and (max-width: 576px) {
				min-width: calc(320px - 2rem);
			}
		}
	}

	.socials__wrapper {
		position: absolute;
		bottom: 2rem;
		right: 2rem;
		z-index: 8;

		@media screen and (max-width: 768px) {
			right: 50%;
			transform: translateX(50%);
		}
	}
	.bubble {
		position: absolute;
		bottom: 0;

		border-radius: 50%;
		background-image: radial-gradient(hsla(var(--link-color-white-hsl), 0.3) 60%, hsla(var(--link-color-white-hsl), 1) 80%);
		will-change: top, left;
		transform: translateX(-50%);
		animation-name: float;
		animation-timing-function: ease-out;

		&::after {
			content: "";
			position: absolute;
			top: 20%;
			right: 25%;
			width: 33%;
			height: 33%;
			border: 2px solid;
			border-color: hsla(var(--link-color-white-hsl), 0.8) transparent transparent transparent;
			border-radius: 50%;
			transform: rotate(45deg);
		}
	}
	/* animation pour faire remonter les bulles */
	@keyframes float {
		0% {
			transform: translateY(0);
		}
		100% {
			transform: translateY(-100%);
		}
	}
</style>
<!-- <script is:inline src="../assets/js/particles.js"></script>
<script is:inline>
	particlesJS.load("particles-js", {
		particles: {
			number: {
				value: 16,
				density: {
					enable: true,
					value_area: 1000,
				},
			},
			color: {
				value: "#ffffff",
			},
			shape: {
				type: "circle",
				stroke: {
					width: 1,
					color: "#ffffff",
				},
				polygon: {
					nb_sides: 12,
				},
				image: {
					src: "img/github.svg",
					width: 32,
					height: 32,
				},
			},
			opacity: {
				value: 0.3,
				random: true,
				anim: {
					enable: false,
					speed: 1,
					opacity_min: 0.1,
					sync: false,
				},
			},
			size: {
				value: 32.06824121731046,
				random: true,
				anim: {
					enable: true,
					speed: 1,
					size_min: 21.114007519834974,
					sync: false,
				},
			},
			line_linked: {
				enable: false,
				distance: 200,
				color: "#ffffff",
				opacity: 1,
				width: 2,
			},
			move: {
				enable: true,
				speed: 3,
				direction: "top",
				random: true,
				straight: false,
				out_mode: "out",
				bounce: false,
				attract: {
					enable: false,
					rotateX: 80.17060304327615,
					rotateY: 881.8766334760375,
				},
			},
		},
		interactivity: {
			detect_on: "canvas",
			events: {
				onhover: {
					enable: true,
					mode: "repulse",
				},
				onclick: {
					enable: false,
					mode: "remove",
				},
				resize: true,
			},
			modes: {
				grab: {
					distance: 400,
					line_linked: {
						opacity: 1,
					},
				},
				bubble: {
					distance: 400,
					size: 40,
					duration: 2,
					opacity: 8,
					speed: 3,
				},
				repulse: {
					distance: 200,
					duration: 0.4,
				},
				push: {
					particles_nb: 4,
				},
				remove: {
					particles_nb: 2,
				},
			},
		},
		retina_detect: true,
	});
</script> -->
