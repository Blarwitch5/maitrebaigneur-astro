---
import Particles from "astro-particles";
import type { ISourceOptions } from "tsparticles-engine";

const options: ISourceOptions = {
  background: {
    color: {
      value: "transparent",
    },
    size: "auto 100%",
    repeat: "no-repeat",
    position: "center",
  },
  fpsLimit: 60,
  emitters: {
    direction: "top",
    size: {
      width: 100,
      height: 100,
    },
    rate: {
      delay: 0.1,
      quantity: 1,
    },
  },
  particles: {
    number: {
      value: 0,
    },
    color: {
      value: "#ffffff",
    },
    shape: {
      type: "image",
      image: [
        {
          src: "https://cdn130.picsart.com/262323691001212.png?r1024x1024",
          width: 16,
          height: 16,
        },
      ],
    },
    opacity: {
      value: 0.6,
    },
    size: {
      value: 16,
      anim: {
        enable: true,
        size_min: 2,
        speed: 1,
        sync: true,
        startValue: "min",
        destroy: "max",
      },
    },
    move: {
      enable: true,
      speed: 1,
      direction: "top",
      random: true,
      straight: false,
      out_mode: "destroy",
      attract: {
        enable: false,
        rotateX: 300,
        rotateY: 300,
      },
    },
  },
  interactivity: {
    detect_on: "canvas",
    events: {
      onhover: {
        enable: false,
        mode: "repulse",
      },
      onclick: {
        enable: true,
        mode: "push",
      },
      resize: true,
    },
    modes: {
      grab: {
        distance: 400,
        line_linked: {
          opacity: 1,
        },
      },
      repulse: {
        distance: 100,
      },
      push: {
        quantity: 3,
      },
    },
  },
  detectRetina: true,
};
---

<script>
  import { tsParticles } from "tsparticles-engine";
  import { loadFull } from "tsparticles";

  (async () => {
    await loadFull(tsParticles);
  })();
</script>

<Particles id="tsparticles" options={options} />
